<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sabores & Tragos - Registro de Eventos Gastronómicos</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <header class="main-header" role="banner">
        <h1>Sabores & Tragos</h1>
        <p>Tu puerta de entrada a experiencias culinarias inolvidables.</p>
    </header>

    <main class="container" role="main">
        <section class="form-section">
            <form id="user-event-form" class="event-form" novalidate>
                <fieldset>
                    <legend>Datos Personales del Participante</legend>
                    <div class="form-group">
                        <label for="user-name">Nombre Completo:</label>
                        <input type="text" id="user-name" name="userName" placeholder="Ingresa tu nombre" required aria-describedby="name-error">
                        <div id="name-error" class="error-message" role="alert" aria-live="polite"></div>
                    </div>
                    <div class="form-group">
                        <label for="user-email">Correo Electrónico:</label>
                        <input type="email" id="user-email" name="userEmail" placeholder="ejemplo@dominio.com" required aria-describedby="email-error">
                        <div id="email-error" class="error-message" role="alert" aria-live="polite"></div>
                    </div>
                    <div class="form-group">
                        <label for="user-dni">Número de DNI:</label>
                        <input type="text" id="user-dni" name="userDNI" placeholder="8 dígitos" pattern="^\d{8}$" title="El DNI debe tener 8 dígitos numéricos" required aria-describedby="dni-error">
                        <div id="dni-error" class="error-message" role="alert" aria-live="polite"></div>
                    </div>
                    <div class="form-group">
                        <label for="user-celular">Número de Celular:</label>
                        <input type="tel" id="user-celular" name="userCelular" placeholder="9 dígitos" pattern="^\d{9}$" title="El número de celular debe tener 9 dígitos numéricos" required aria-describedby="celular-error">
                        <div id="celular-error" class="error-message" role="alert" aria-live="polite"></div>
                    </div>
                    <div class="form-group checkbox-group">
                        <input type="checkbox" id="user-age-check" name="userAgeCheck" required aria-describedby="age-error">
                        <label for="user-age-check">Soy mayor de 18 años y acepto los términos y condiciones.</label>
                        <div id="age-error" class="error-message" role="alert" aria-live="polite"></div>
                    </div>
                </fieldset>

                <fieldset>
                    <legend>Selección de Eventos Gastronómicos</legend>
                    <div id="event-selection-list" class="event-grid" role="region" aria-label="Lista de eventos disponibles">
                    </div>
                </fieldset>

                <button type="submit" class="btn-submit" aria-describedby="submit-status">Confirmar Registro</button>
                <div id="submit-status" class="submit-status" role="status" aria-live="polite"></div>
            </form>
        </section>
    </main>

    <footer class="main-footer" role="contentinfo">
        <p>&copy; 2025 Sabores & Tragos. Todos los derechos reservados.</p>
    </footer>

    <div id="popup-evento" class="popup hidden" aria-hidden="true" role="dialog" aria-modal="true" aria-labelledby="popup-evento-title">
        <div class="popup-content" id="popup-evento-info">
            <h2 id="popup-evento-title"></h2>
        </div>
        <button class="popup-close" aria-label="Cerrar ventana" onclick="this.parentElement.classList.add('hidden')">&times;</button>
    </div>

    <div id="popup-confirmacion" class="popup hidden" aria-hidden="true" role="dialog" aria-modal="true" aria-labelledby="popup-confirmacion-title">
        <div class="popup-content">
            <h2 id="popup-confirmacion-title">¡Registro Exitoso!</h2>
            <p>Gracias por registrarte. Aquí tienes un resumen de tu inscripción:</p>
            <div class="summary-details">
                <p><strong>Nombre:</strong> <span id="conf-user-name"></span></p>
                <p><strong>Email:</strong> <span id="conf-user-email"></span></p>
                <p><strong>DNI:</strong> <span id="conf-user-dni"></span></p>
                <p><strong>Celular:</strong> <span id="conf-user-celular"></span></p>
            </div>
            <h3>Eventos Seleccionados:</h3>
            <ul id="conf-event-list">
            </ul>
            <button id="btn-nuevo-registro" class="btn-submit">Nuevo Registro</button>
        </div>
        <button class="popup-close" aria-label="Cerrar ventana" onclick="this.parentElement.classList.add('hidden')">&times;</button>
    </div>

    <div id="popup-mensaje" class="popup-mensaje hidden" aria-hidden="true" role="dialog" aria-modal="true" aria-labelledby="popup-mensaje-title">
        <div class="mensaje-content">
            <h2 id="popup-mensaje-title">Mensaje</h2>
            <p id="mensaje-texto"></p>
            <button id="btn-cerrar-mensaje" class="btn-close">Cerrar</button>
        </div>
        <button class="popup-close" aria-label="Cerrar ventana" onclick="this.parentElement.classList.add('hidden')">&times;</button>
    </div>

    <div id="popup-cancelar" class="popup-cancelar hidden" aria-hidden="true" role="dialog" aria-modal="true" aria-labelledby="popup-cancelar-title">
        <div class="cancelar-content">
            <h2 id="popup-cancelar-title">Confirmar Cancelación</h2>
            <p>¿Estás seguro de que deseas cancelar tu suscripción a este evento?</p>
            <div class="button-group">
                <button id="btn-confirmar-cancelar" class="btn-confirm-cancel">Sí, cancelar</button>
                <button id="btn-cancelar-cancelar" class="btn-abort-cancel">No, mantener</button>
            </div>
        </div>
        <button class="popup-close" aria-label="Cerrar ventana" onclick="this.parentElement.classList.add('hidden')">&times;</button>
    </div>

    <!-- Loading overlay -->
    <div id="loading-overlay" class="loading-overlay hidden" aria-hidden="true">
        <div class="loading-spinner" role="status" aria-label="Cargando..."></div>
    </div>

    <script src="js/script.js"></script>
</body>
</html>